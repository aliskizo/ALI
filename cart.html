<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cart - ALI</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<style>
body{
    background:url('MOLO AW25 SKI (1).jpg') center/cover fixed;
}
body::before{
    content:"";
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.25);
    backdrop-filter:blur(3px);
    z-index:-1;
}

/* ===== NAVBAR ===== */
.custom-navbar{
    background:linear-gradient(rgba(140,210,180,.75),rgba(110,190,160,.75));
    padding:10px 25px;
}
.navbar-brand{
    font-size:28px;
    font-weight:800;
    color:#0b6b4f!important;
}
.nav-link{
    color:#1f2f2a!important;
    display:flex;
    align-items:center;
}
.nav-link.active{
    font-weight:700;
    text-decoration:underline;
}

/* ===== SEARCH ===== */
.search-box{
    display:flex;
    align-items:center;
    position:relative;
}
.search-input{
    width:0;
    opacity:0;
    transition:.3s;
    border-radius:20px;
    border:none;
    padding:6px 14px;
    height:32px;
}
.search-box.active .search-input{
    width:180px;
    opacity:1;
}
.search-icon{
    padding:0 8px;
    cursor:pointer;
}

/* ===== CART ===== */
.cart-wrapper{
    max-width:1000px;
    margin:auto;
}
.cart-card{
    background:rgba(80,140,120,.45);
    border-radius:25px;
    padding:20px;
    color:#fff;
    margin-bottom:15px;
    display:flex;
    align-items:center;
    gap:20px;
}
.cart-card img{
    width:90px;
    height:90px;
    object-fit:contain;
}
.remove-btn{
    background:#000;
    color:#fff;
    border:none;
    border-radius:20px;
    padding:6px 16px;
}
.total-box{
    background:rgba(0,0,0,.6);
    color:#fff;
    border-radius:20px;
    padding:20px;
    text-align:right;
}
</style>
</head>

<body>

<!-- ===== NAVBAR (SAMA SEMUA PAGE) ===== -->
<nav class="navbar navbar-expand-lg custom-navbar fixed-top">
<div class="container-fluid">

    <a class="navbar-brand" href="index.html">ALI</a>

    <div class="collapse navbar-collapse justify-content-center">
        <ul class="navbar-nav gap-4">
            <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
            <li class="nav-item"><a class="nav-link" href="store.html">Store</a></li>
            <li class="nav-item"><a class="nav-link" href="collection.html">Collection</a></li>
            <li class="nav-item"><a class="nav-link" href="best-seller.html">Best Seller</a></li>
            <li class="nav-item"><a class="nav-link" href="blog.html">Blog</a></li>
            <li class="nav-item"><a class="nav-link" href="service.html">Service</a></li>
            <li class="nav-item"><a class="nav-link" href="review.html">Review</a></li>
            <li class="nav-item"><a class="nav-link" href="find-store.html">Find Store</a></li>
        </ul>
    </div>

    <div class="d-flex align-items-center gap-3 me-3">

        <!-- SEARCH -->
        <div class="search-box" id="searchBox">
            <input type="text" class="search-input" id="searchInput" placeholder="Search product...">
            <span class="search-icon" onclick="toggleSearch()">
                <i class="bi bi-search"></i>
            </span>
        </div>

        <a class="nav-link active" href="cart.html">
            <i class="bi bi-cart3"></i>&nbsp;Cart
        </a>

        <a class="nav-link" href="login.html">
            <i class="bi bi-person-circle"></i>&nbsp;Login
        </a>
    </div>
</div>
</nav>

<div style="height:120px"></div>

<!-- ===== CART ===== -->
<div class="container cart-wrapper">

<h2 class="text-white mb-4">
    <i class="bi bi-cart3"></i> Your Cart
</h2>

<div id="cartItems"></div>

<div class="total-box mt-4">
    <h4>Total: $<span id="totalPrice">0</span></h4>
</div>

<div class="d-flex gap-3 mt-4">
    <button class="btn btn-dark" onclick="goBack()">‚Üê Back</button>
    <button class="btn btn-light fw-bold" onclick="openBuyCart()">Buy</button>
</div>

</div>

<!-- ===== BUY MODAL ===== -->
<div class="modal fade" id="buyModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Confirm Purchase</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>Total Price:</p>
        <h4>$<span id="modalTotal"></span></h4>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button class="btn btn-dark" onclick="confirmBuy()">Buy</button>
      </div>
    </div>
  </div>
</div>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const box = document.getElementById("cartItems");
const totalText = document.getElementById("totalPrice");
const modalTotal = document.getElementById("modalTotal");

function renderCart(){
    box.innerHTML="";
    let total=0;

    if(cart.length===0){
        box.innerHTML="<p class='text-white'>Keranjang masih kosong</p>";
        totalText.innerText=0;
        return;
    }

    cart.forEach((p,i)=>{
        total+=p.price;
        box.innerHTML+=`
        <div class="cart-card">
            <img src="${p.img}">
            <div class="flex-grow-1">
                <h5>${p.name}</h5>
                <p>$${p.price}</p>
            </div>
            <button class="remove-btn" onclick="removeItem(${i})">
                <i class="bi bi-trash"></i>
            </button>
        </div>`;
    });

    totalText.innerText=total;
}

function removeItem(i){
    cart.splice(i,1);
    localStorage.setItem("cart",JSON.stringify(cart));
    renderCart();
}

function goBack(){ history.back(); }

function toggleSearch(){
    searchBox.classList.toggle("active");
    searchInput.focus();
}

function openBuyCart(){
    if(cart.length===0){
        alert("Keranjang masih kosong");
        return;
    }
    modalTotal.innerText=totalText.innerText;
    new bootstrap.Modal(buyModal).show();
}

function confirmBuy(){
    alert("Pembelian berhasil üéâ");
    localStorage.removeItem("cart");
    location.href="store.html";
}

renderCart();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
